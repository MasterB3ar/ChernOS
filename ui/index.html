<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ChernOS v2.0.0 – Reactor Shell</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./styles/blackchamber.css" />
</head>
<body class="bc-root bc-theme-blackchamber">
  <!-- Background pulse glow -->
  <div class="bc-reactor-glow"></div>

  <!-- Top status bar -->
  <header class="bc-topbar">
    <div class="bc-topbar-left">
      <span class="bc-logo">ChernOS v2.0.0</span>
      <span class="bc-tag">REACTOR CONTROL SHELL</span>
    </div>
    <div class="bc-topbar-center">
      <div class="bc-status-pill" id="status-core">
        CORE: <span class="bc-status-value" id="status-core-text">NOMINAL</span>
      </div>
      <div class="bc-status-pill" id="status-net">
        NET: <span class="bc-status-value" id="status-net-text">STABLE</span>
      </div>
      <div class="bc-status-pill" id="status-containment">
        CONTAINMENT: <span class="bc-status-value" id="status-containment-text">SEALED</span>
      </div>
    </div>
    <div class="bc-topbar-right">
      <span id="bc-clock" class="bc-clock"></span>
      <button id="btn-night" class="bc-btn bc-btn-small">NIGHT SHIFT</button>
      <button id="btn-mute" class="bc-btn bc-btn-small">AUDIO</button>
    </div>
  </header>

  <!-- Taskbar -->
  <nav class="bc-taskbar">
    <button class="bc-task-btn" data-app="core">CORE</button>
    <button class="bc-task-btn" data-app="network">NETWORK</button>
    <button class="bc-task-btn" data-app="containment">CONTAINMENT</button>
    <button class="bc-task-btn" data-app="logs">LOGS</button>
    <button class="bc-task-btn" data-app="console">CONSOLE</button>
    <button class="bc-task-btn" data-app="settings">SETTINGS</button>
  </nav>

  <!-- Desktop area -->
  <main class="bc-desktop" id="desktop">

    <!-- CORE APP -->
    <section class="bc-window bc-window-active" data-app-window="core">
      <header class="bc-window-header">
        <span>CORE-1 // PRIMARY REACTOR</span>
      </header>
      <div class="bc-window-body bc-window-grid">

        <div class="bc-panel">
          <h2>POWER RINGS</h2>
          <div class="bc-rings">
            <div class="bc-ring" data-ring="temp">
              <span class="bc-ring-label">TEMP</span>
              <span class="bc-ring-value" id="ring-temp-value">42%</span>
            </div>
            <div class="bc-ring" data-ring="output">
              <span class="bc-ring-label">OUTPUT</span>
              <span class="bc-ring-value" id="ring-output-value">61%</span>
            </div>
            <div class="bc-ring" data-ring="pressure">
              <span class="bc-ring-label">PRESS</span>
              <span class="bc-ring-value" id="ring-pressure-value">31%</span>
            </div>
          </div>
        </div>

        <div class="bc-panel">
          <h2>REACTOR STATUS BOARD</h2>
          <ul id="core-status-board" class="bc-status-board">
            <!-- Filled by JS with flicker -->
          </ul>
        </div>

        <div class="bc-panel">
          <h2>CONTROL LEVERS</h2>
          <div class="bc-levers">
            <button class="bc-lever" data-lever="power-up">POWER ↑</button>
            <button class="bc-lever" data-lever="power-down">POWER ↓</button>
            <button class="bc-lever" data-lever="scram">SCRAM</button>
          </div>

          <h3>SAFEGUARDS</h3>
          <div class="bc-safeguards">
            <div class="bc-safeguard">
              SHIELD-X: <span id="shield-x-level">100%</span>
            </div>
            <div class="bc-safeguard">
              FLOW-A: <span id="flow-a-level">100%</span>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- NETWORK APP -->
    <section class="bc-window" data-app-window="network">
      <header class="bc-window-header">
        <span>NETWORK FABRIC // CORE-1 NODES</span>
      </header>
      <div class="bc-window-body bc-window-grid">

        <div class="bc-panel">
          <h2>TOPOLOGY</h2>
          <div id="network-topology" class="bc-topology">
            <!-- nodes + links drawn by JS -->
          </div>
        </div>

        <div class="bc-panel">
          <h2>NODES</h2>
          <ul id="network-nodes" class="bc-node-list"></ul>
        </div>

        <div class="bc-panel">
          <h2>PACKET FLOW</h2>
          <div id="packet-stream" class="bc-packet-stream">
            <!-- scrolling log -->
          </div>
        </div>

      </div>
    </section>

    <!-- CONTAINMENT APP -->
    <section class="bc-window" data-app-window="containment">
      <header class="bc-window-header">
        <span>SECONDARY CONTAINMENT // STATUS</span>
      </header>
      <div class="bc-window-body bc-window-grid">

        <div class="bc-panel">
          <h2>CHAMBER VISUALIZER</h2>
          <div id="containment-visual" class="bc-containment-visual">
            <!-- containment rings / heatmaps via CSS classes -->
          </div>
        </div>

        <div class="bc-panel">
          <h2>COOLANT ROUTING</h2>
          <div class="bc-routing">
            <button class="bc-routing-btn" data-route="loop-a">ROUTE LOOP A</button>
            <button class="bc-routing-btn" data-route="loop-b">ROUTE LOOP B</button>
            <button class="bc-routing-btn" data-route="balance">BALANCE</button>
          </div>
          <ul id="coolant-status" class="bc-status-list"></ul>
        </div>

        <div class="bc-panel">
          <h2>FAULT EVENTS</h2>
          <ul id="containment-faults" class="bc-status-list"></ul>
        </div>

      </div>
    </section>

    <!-- LOGS APP -->
    <section class="bc-window" data-app-window="logs">
      <header class="bc-window-header">
        <span>REACTOR LOGS // PERSISTENCE v3</span>
      </header>
      <div class="bc-window-body">
        <pre id="log-output" class="bc-log-output"></pre>
      </div>
    </section>

    <!-- CONSOLE APP (commands like audio test / simulate) -->
    <section class="bc-window" data-app-window="console">
      <header class="bc-window-header">
        <span>OPS CONSOLE</span>
      </header>
      <div class="bc-window-body bc-console-body">
        <pre id="console-output" class="bc-console-output"></pre>
        <div class="bc-console-input-row">
          <span class="bc-console-prompt">chernos&gt;</span>
          <input id="console-input" class="bc-console-input" autocomplete="off"
                 placeholder="audio test alarm | simulate pump-fail | net status ..." />
        </div>
      </div>
    </section>

    <!-- SETTINGS APP -->
    <section class="bc-window" data-app-window="settings">
      <header class="bc-window-header">
        <span>SETTINGS // SOUND & THEME</span>
      </header>
      <div class="bc-window-body bc-window-grid">
        <div class="bc-panel">
          <h2>AUDIO</h2>
          <label>Master volume
            <input type="range" id="volume-master" min="0" max="1" step="0.01" />
          </label>
          <label>Music volume
            <input type="range" id="volume-music" min="0" max="1" step="0.01" />
          </label>
          <label>SFX volume
            <input type="range" id="volume-sfx" min="0" max="1" step="0.01" />
          </label>
        </div>

        <div class="bc-panel">
          <h2>THEME</h2>
          <p>Active theme: <strong>blackchamber</strong></p>
          <button id="btn-theme-reload" class="bc-btn">Reload layout</button>
        </div>

        <div class="bc-panel">
          <h2>PERSISTENCE</h2>
          <p id="persist-status">Checking /persist ...</p>
          <button id="btn-persist-dump" class="bc-btn">Dump state to logs</button>
        </div>
      </div>
    </section>

  </main>

  <!-- Audio elements (managed by JS reactive music system) -->
  <audio id="track-normal" loop src=""></audio>
  <audio id="track-stress" loop src=""></audio>
  <audio id="track-meltdown" loop src=""></audio>

  <!-- SFX -->
  <audio id="sfx-click" src=""></audio>
  <audio id="sfx-lever" src=""></audio>
  <audio id="sfx-alarm" src=""></audio>
  <audio id="sfx-startup" src=""></audio>

  <script src="./main.js"></script>
</body>
</html>
